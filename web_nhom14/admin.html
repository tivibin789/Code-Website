<!DOCTYPE html>
<html>
<head>
    <title>Trang Quản lý</title>
    <link rel="stylesheet" href="css/ggg.css">
    <style>
        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ccc;
            z-index: 2;
        }
    
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1;
        }
    
        .close-button {
            position: absolute;
            right: 10px;
            top: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <h1>Trang Quản Trị</h1>
        <div class="user-info">
            <img src="images/avatar.gif" alt="Avatar">
            <p>Trịnh Văn Mạnh</p>
        </div>
    </header>
    <main>
        <h2>Quản lý người dùng</h2>
        <table>
            <tr>
                <th>Tên người dùng</th>
                <th>Email</th>
                <th>Hành động</th>
            </tr>
            <tr>
                <td>Nguyễn Văn A</td>
                <td>nguyenvana@example.com</td>
                <td>
                    <button onclick="openEditModal('Nguyễn Văn A', 'nguyenvana@example.com', this.parentNode.parentNode); return false;">Chỉnh sửa</button>
                    <button onclick="deleteUser(this.parentNode.parentNode);">Xóa</button>
                </td>
            </tr>
            <tr>
                <td>Trần Thị B</td>
                <td>tranb@example.com</td>
                <td>
                    <button onclick="openEditModal('Trần Thị B', 'tranb@example.com', this.parentNode.parentNode); return false;">Chỉnh sửa</button>
                    <button onclick="deleteUser(this.parentNode.parentNode);">Xóa</button>
                </td>
            </tr>
            <tr>
                <td>Lê Văn C</td>
                <td>levanc@example.com</td>
                <td>
                    <button onclick="openEditModal('Lê Văn C', 'levanc@example.com', this.parentNode.parentNode); return false;">Chỉnh sửa</button>
                    <button onclick="deleteUser(this.parentNode.parentNode);">Xóa</button>
                </td>
            </tr>
            <!-- Thêm các hàng người dùng khác tại đây -->
        </table>
        <!-- Modal chỉnh sửa -->
        <div id="editModal" class="modal">
            <span id="closeModal" class="close-button">X</span>
            <h2>Chỉnh sửa người dùng</h2>
            <form id="editForm">
                <label for="editName">Tên người dùng:</label><br>
                <input type="text" id="editName" name="editName"><br>
                <label for="editEmail">Email:</label><br>
                <input type="text" id="editEmail" name="editEmail"><br>
                <input type="submit" value="Lưu">
            </form>
        </div>
        <!-- Modal chỉnh sửa người dùng -->
<div id="editUserModal" class="modal">
    <span id="closeUserModal" class="close-button">X</span>
    <h2>Chỉnh sửa người dùng</h2>
    <form id="editUserForm">
        <label for="editUserName">Tên người dùng:</label><br>
        <input type="text" id="editUserName" name="editUserName"><br>
        <label for="editUserEmail">Email:</label><br>
        <input type="text" id="editUserEmail" name="editUserEmail"><br>
        <input type="submit" value="Lưu">
    </form>
</div>

<!-- Modal chỉnh sửa sản phẩm -->
<div id="editProductModal" class="modal">
    <span id="closeProductModal" class="close-button">X</span>
    <h2>Chỉnh sửa sản phẩm</h2>
    <form id="editProductForm">
        <label for="editProductName">Tên sản phẩm:</label><br>
        <input type="text" id="editProductName" name="editProductName"><br>
        <label for="editProductDescription">Mô tả sản phẩm:</label><br>
        <input type="text" id="editProductDescription" name="editProductDescription"><br>
        <label for="editProductImage">Hình ảnh sản phẩm:</label><br>
        <input type="file" id="editProductImage" name="editProductImage"><br>
        <input type="submit" value="Lưu">
    </form>
</div>
<!-- Overlay để đè mờ nền khi mở modal -->
<div id="overlay" class="overlay"></div>
        <h2>Sản phẩm</h2>
        <div id="products">
            <div class="product">
                <img src="images/giayAdidas/ALPHABOUNCE COMFY - Đen.jpg" alt="Hình ảnh sản phẩm">
                <h3>Giày Adidas </h3>
                <p>Mô tả về Giày Adidas </p>
                <button onclick="openEditProductModal('Giày Adidas', 'Mô tả về Giày Adidas', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/giayAdidas/Alphabounce EK - Nam - Đen.jpg" alt="Hình ảnh sản phẩm">
                <h3>Giày Adidas </h3>
                <p>Mô tả về Giày Adidas </p>
                <button onclick="openEditProductModal('Giày Adidas', 'Mô tả về Giày Adidas', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/giayAdidas/Alphabounce Flow Nam - Trắng.jpg" alt="Hình ảnh sản phẩm">
                <h3>Giày Adidas </h3>
                <p>Mô tả về Giày Adidas </p>
                <button onclick="openEditProductModal('Giày Adidas', 'Mô tả về Giày Adidas', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/giayAdidas/Alphabounce+ Nam - Trắng.jpg" alt="Hình ảnh sản phẩm">
                <h3>Giày Adidas </h3>
                <p>Mô tả về Giày Adidas </p>
                <button onclick="openEditProductModal('Giày Adidas', 'Mô tả về Giày Adidas', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/giayAdidas/GALAXAR Run - Black.jpg" alt="Hình ảnh sản phẩm">
                <h3>Giày Adidas </h3>
                <p>Mô tả về Giày Adidas </p>
                <button onclick="openEditProductModal('Giày Adidas', 'Mô tả về Giày Adidas', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/giayAdidas/Galaxy 4 Nam - Đen.jpg" alt="Hình ảnh sản phẩm">
                <h3>Giày Adidas </h3>
                <p>Mô tả về Giày Adidas </p>
                <button onclick="openEditProductModal('Giày Adidas', 'Mô tả về Giày Adidas', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/PUMA/Essentials Rider FV/1.webp" alt="Hình ảnh sản phẩm">
                <h3>Giày Puma</h3>
                <p>Mô tả về Giày Puma</p>
                <button onclick="openEditProductModal('Giày Puma', 'Mô tả về Giày Puma', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/PUMA/PWRFrame Stardust Training/1.webp" alt="Hình ảnh sản phẩm">
                <h3>Giày Puma</h3>
                <p>Mô tả về Giày Puma</p>
                <button onclick="openEditProductModal('Giày Puma', 'Mô tả về Giày Puma', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/PUMA/Mirage Sport Remix Trainers/1.webp" alt="Hình ảnh sản phẩm">
                <h3>Giày Puma</h3>
                <p>Mô tả về Giày Puma</p>
                <button onclick="openEditProductModal('Giày Puma', 'Mô tả về Giày Puma', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/PUMA/Fusion Nitro Team Basketball/1.webp" alt="Hình ảnh sản phẩm">
                <h3>Giày Puma</h3>
                <p>Mô tả về Giày Puma</p>
                <button onclick="openEditProductModal('Giày Puma', 'Mô tả về Giày Puma', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            
            <div class="product">
                <img src="images/converse/pic4.jpg" alt="Hình ảnh sản phẩm">
                <h3>Giày Converse</h3>
                <p>Mô tả về Giày Converse</p>
                <button onclick="openEditProductModal('Giày Converse', 'Mô tả về Giày Converse', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/converse/pic1.jpg" alt="Hình ảnh sản phẩm">
                <h3>Giày Converse</h3>
                <p>Mô tả về Giày Converse</p>
                <button onclick="openEditProductModal('Giày Converse', 'Mô tả về Giày Converse', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/converse/pic2.jpg" alt="Hình ảnh sản phẩm">
                <h3>Giày Converse</h3>
                <p>Mô tả về Giày Converse</p>
                <button onclick="openEditProductModal('Giày Converse', 'Mô tả về Giày Converse', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/converse/pic3.jpg" alt="Hình ảnh sản phẩm">
                <h3>Giày Converse</h3>
                <p>Mô tả về Giày Converse</p>
                <button onclick="openEditProductModal('Giày Converse', 'Mô tả về Giày Converse', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            
            <div class="product">
                <img src="images/Nike/Air jordan 1 zoom/1_2.png" alt="Hình ảnh sản phẩm">
                <h3>Giày Nike</h3>
                <p>Mô tả về Giày Nike</p>
                <button onclick="openEditProductModal('Giày Nike', 'Mô tả về Giày Nike', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/Nike/Jordan Delta 3 Mid/1_2.png" alt="Hình ảnh sản phẩm">
                <h3>Giày Nike</h3>
                <p>Mô tả về Giày Nike</p>
                <button onclick="openEditProductModal('Giày Nike', 'Mô tả về Giày Nike', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/Nike/Nike air deldon Togerther we fly/1_2.png" alt="Hình ảnh sản phẩm">
                <h3>Giày Nike</h3>
                <p>Mô tả về Giày Nike</p>
                <button onclick="openEditProductModal('Giày Nike', 'Mô tả về Giày Nike', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
            <div class="product">
                <img src="images/Nike/Nike Air Max 90G/1_2.png" alt="Hình ảnh sản phẩm">
                <h3>Giày Nike</h3>
                <p>Mô tả về Giày Nike</p>
                <button onclick="openEditProductModal('Giày Nike', 'Mô tả về Giày Nike', this.parentNode); return false;">Chỉnh sửa</button>
                <button onclick="deleteProduct(this.parentNode);">Xóa</button>
            </div>
        </div>

        <!-- Thêm các sản phẩm khác tại đây -->
        <h2>Thêm sản phẩm mới</h2>
        <!-- Form thêm sản phẩm mới -->
        <form id="addProductForm">
            <label for="newProductName">Tên Sản phẩm:</label><br>
            <input type="text" id="newProductName" name="newProductName"><br>
            <label for="newProductDescription">Mô tả Sản phẩm:</label><br>
            <input type="text" id="newProductDescription" name="newProductDescription"><br>
            <label for="newProductImage">Hình ảnh Sản phẩm:</label><br>
            <input type="file" id="newProductImage" name="newProductImage"><br>
            <input type="submit" value="Thêm Sản phẩm">
        </form>
        <h2>Quản lý đơn hàng</h2>
        <table>
            <tr>
                <th>ID đơn hàng</th>
                <th>Tên khách hàng</th>
                <th>Trạng thái</th>
            </tr>
            <tr>
                <td>1</td>
                <td>Nguyễn Văn A</td>
                <td>Đang chờ xử lý</td>
            </tr>
            <tr>
                <td>2</td>
                <td>Trần Thị B</td>
                <td>Đã giao hàng</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Lê Văn C</td>
                <td>Đang giao hàng</td>
            </tr>
            <tr>
                <td>4</td>
                <td>Phạm Thị D</td>
                <td>Đã hủy</td>
            </tr>
            <tr>
                <td>5</td>
                <td>Hoàng Văn E</td>
                <td>Đang chờ xử lý</td>
            </tr>
        </table>
        <h2>Thống kê tình hình kinh doanh</h2>
        <div>
            <table>
                <tr>
                    <th>Tháng</th>
                    <th>Số đơn hàng</th>
                    <th>Doanh thu</th>
                </tr>
                <tr>
                    <td>Tháng 1</td>
                    <td>120</td>
                    <td>200,000,000 VND</td>
                </tr>
                <tr>
                    <td>Tháng 2</td>
                    <td>150</td>
                    <td>250,000,000 VND</td>
                </tr>
                <tr>
                    <td>Tháng 3</td>
                    <td>180</td>
                    <td>300,000,000 VND</td>
                </tr>
                <tr>
                    <td>Tháng 4</td>
                    <td>200</td>
                    <td>350,000,000 VND</td>
                </tr>
                <tr>
                    <td>Tháng 5</td>
                    <td>220</td>
                    <td>400,000,000 VND</td>
                </tr>
            </table>
        </div>
    </main>
    <Script>
         let currentRow; // Biến để lưu trữ hàng đang được chỉnh sửa

// Hàm mở modal chỉnh sửa với thông tin người dùng
function openEditModal(name, email, row) {
    // Lưu trữ hàng đang được chỉnh sửa
    currentRow = row;

    // Hiển thị modal
    document.getElementById('editModal').style.display = 'block';
    // Hiển thị overlay
    document.getElementById('overlay').style.display = 'block';

    // Đặt giá trị cho các trường trong modal
    document.getElementById('editName').value = name;
    document.getElementById('editEmail').value = email;
}

// Hàm xóa người dùng
function deleteUser(row) {
    row.parentNode.removeChild(row);
}
document.getElementById('editForm').addEventListener('submit', function (e) {
                e.preventDefault();

                // Lấy giá trị mới từ form
                const newName = document.getElementById('editName').value;
                const newEmail = document.getElementById('editEmail').value;

                // Cập nhật nội dung trong hàng đang được chỉnh sửa
                currentRow.cells[0].innerText = newName;
                currentRow.cells[1].innerText = newEmail;

                // Ẩn modal
                document.getElementById('editModal').style.display = 'none';
                // Ẩn overlay
                document.getElementById('overlay').style.display = 'none';
            });

            // Ẩn modal khi nhấn vào overlay
            document.getElementById('overlay').addEventListener('click', function () {
                document.getElementById('editModal').style.display = 'none';
                document.getElementById('overlay').style.display = 'none';
            });

            // Ẩn modal khi nhấn vào nút thoát
            document.getElementById('closeModal').addEventListener('click', function () {
                document.getElementById('editModal').style.display = 'none';
                document.getElementById('overlay').style.display = 'none';
            });
        // Hàm mở modal chỉnh sửa sản phẩm
function openEditProductModal(name, description, product) {
    // Lưu trữ sản phẩm đang được chỉnh sửa
    currentProduct = product;

    // Hiển thị modal
    document.getElementById('editProductModal').style.display = 'block';
    // Hiển thị overlay
    document.getElementById('overlay').style.display = 'block';

    // Đặt giá trị cho các trường trong modal
    document.getElementById('editProductName').value = name;
    document.getElementById('editProductDescription').value = description;
}
// Thêm sự kiện cho nút đóng modal
document.getElementById('closeProductModal').addEventListener('click', function () {
    // Ẩn modal
    document.getElementById('editProductModal').style.display = 'none';
    // Ẩn overlay
    document.getElementById('overlay').style.display = 'none';
});
// Thêm sự kiện cho overlay
document.getElementById('overlay').addEventListener('click', function () {
    // Ẩn modal
    document.getElementById('editProductModal').style.display = 'none';
    // Ẩn overlay
    document.getElementById('overlay').style.display = 'none';
});
// Hàm xóa sản phẩm
function deleteProduct(product) {
    product.parentNode.removeChild(product);
}
document.getElementById('editProductForm').addEventListener('submit', function (e) {
    e.preventDefault();

    // Lấy giá trị từ form
    const productName = document.getElementById('editProductName').value;
    const productDescription = document.getElementById('editProductDescription').value;

    // Cập nhật nội dung cho sản phẩm
    currentProduct.querySelector('h3').innerText = productName;
    currentProduct.querySelector('p').innerText = productDescription;

    // Ẩn modal và overlay
    document.getElementById('editProductModal').style.display = 'none';
    document.getElementById('overlay').style.display = 'none';
});

// Thêm sự kiện cho form thêm sản phẩm mới
// document.getElementById('addProductForm').addEventListener('submit', function (e) {
//     e.preventDefault();

//     // Lấy giá trị từ form
//     const productName = document.getElementById('newProductName').value;
//     const productDescription = document.getElementById('newProductDescription').value;

//     // Tạo một sản phẩm mới
//     const newProduct = document.createElement('div');
//     newProduct.className = 'product';
//     newProduct.innerHTML = `
//         <h3>${productName}</h3>
//         <p>${productDescription}</p>
//         <button onclick="openEditProductModal('${productName}', '${productDescription}', this.parentNode); return false;">Chỉnh sửa</button>
//         <button onclick="deleteProduct(this.parentNode);">Xóa</button>
//     `;

//     // Thêm sản phẩm mới vào trang
//     document.getElementById('products').appendChild(newProduct);
// });
document.getElementById('addProductForm').addEventListener('submit', function (e) {
    e.preventDefault();

    // Lấy giá trị từ form
    const productName = document.getElementById('newProductName').value;
    const productDescription = document.getElementById('newProductDescription').value;
    const productImage = document.getElementById('newProductImage').files[0];

    // Tạo một sản phẩm mới
    const newProduct = document.createElement('div');
    newProduct.className = 'product';

    // Tạo một đối tượng FileReader để đọc dữ liệu từ file hình ảnh
    const reader = new FileReader();
    reader.onloadend = function () {
        newProduct.innerHTML = `
            <img src="${reader.result}" alt="Hình ảnh sản phẩm">
            <h3>${productName}</h3>
            <p>${productDescription}</p>
            <button onclick="openEditProductModal('${productName}', '${productDescription}', this.parentNode); return false;">Chỉnh sửa</button>
            <button onclick="deleteProduct(this.parentNode);">Xóa</button>
        `;

        // Thêm sản phẩm mới vào trang
        document.getElementById('products').appendChild(newProduct);
    }
    reader.readAsDataURL(productImage);
});
document.getElementById('editProductForm').addEventListener('submit', function (e) {
    e.preventDefault();

    // Lấy file ảnh mới từ input file
    const newImage = document.getElementById('editProductImage').files[0];

    // Tạo một FileReader để đọc nội dung của file ảnh
    const reader = new FileReader();

    reader.onloadend = function () {
        // Khi file ảnh đã được đọc xong, cập nhật thuộc tính src của thẻ img tương ứng
        currentProduct.querySelector('img').src = reader.result;
    }

    // Bắt đầu đọc file ảnh
    if (newImage) {
        reader.readAsDataURL(newImage);
    }

    // Cập nhật tên và mô tả sản phẩm như trước
    const newProductName = document.getElementById('editProductName').value;
    const newProductDescription = document.getElementById('editProductDescription').value;
    currentProduct.querySelector('h3').innerText = newProductName;
    currentProduct.querySelector('p').innerText = newProductDescription;

    // Ẩn modal
    document.getElementById('editProductModal').style.display = 'none';
    document.getElementById('overlay').style.display = 'none';
});
    </Script>
    
</body>
</html>
